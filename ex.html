<html>
  <head>
    <title> HTML Tree Structure </title>
  </head>
  <body>
    <SCRIPT LANGUAGE="JavaScript">

      function traverseDOMTree(targetDocument, currentElement, depth)
      {
        if (currentElement)
        {
          var j;
          var tagName=currentElement.tagName;
          // Prints the node tagName, such as <A>, <IMG>, etc
          if (tagName)
            targetDocument.writeln("&lt;"+currentElement.tagName+"&gt;");
          else
            targetDocument.writeln("");
      
          // Traverse the tree
          var i=0;
          var currentElementChild=currentElement.childNodes[i];
          while (currentElementChild)
          {
            // Formatting code (indent the tree so it looks nice on the screen)
            targetDocument.write("<BR>\n");
            for (j=0; j<depth; j++)
            {
              // &#166 is just a vertical line
              targetDocument.write("&nbsp;&nbsp;&#166");
            }  							
            targetDocument.writeln("<BR>");
            for (j=0; j<depth; j++)
            {
              targetDocument.write("&nbsp;&nbsp;&#166");
            }					
            if (tagName)
              targetDocument.write("--");
      
            // Recursively traverse the tree structure of the child node
            traverseDOMTree(targetDocument, currentElementChild, depth+1);
            i++;
            currentElementChild=currentElement.childNodes[i];
          }
          // The remaining code is mostly for formatting the tree
          targetDocument.writeln("<BR>");
          for (j=0; j<depth-1; j++)
          {
            targetDocument.write("&nbsp;&nbsp;&#166");
          }			
          targetDocument.writeln("&nbsp;&nbsp;");
          if (tagName)
            targetDocument.writeln("&lt;/"+tagName+"&gt;");
        }
      }
      ////////////////////////////////////////////
      // This function accepts a DOM element as parameter and prints
      // out the DOM tree structure of the element.
      ////////////////////////////////////////////
      function printDOMTree(domElement, destinationWindow)
      {
        // Use destination window to print the tree.  If destinationWIndow is
        //   not specified, create a new window and print the tree into that window
        var outputWindow=destinationWindow;
        if (!outputWindow)
          outputWindow=window.open();
      
        // make a valid html page
 
        traverseDOMTree(outputWindow.document, domElement, 1);
        
        // Here we must close the document object, otherwise Mozilla browsers 
        //   might keep showing "loading in progress" state.
        outputWindow.document.close();
      }
      
      //-->
      </SCRIPT>
    <DIV ID="myDiv">
      <div id="htmlCode">
        <div>
          <form>
            <textarea
                style="width: 400px; height: 100px">
            </textarea>
            <br/>
            <input type="button" value="Show me the DOM Tree"
                onClick="printDOMTree(document.getElementById('htmlCode')); return true;" />
            <br/> 
          </form>
        </div>
      </div>
      <div>
        <div>
          <p></p>
        </div>
      </div>
    </DIV>
  </body>
</html>